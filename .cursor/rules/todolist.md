# TODO List

- [x] Add email validation (simple regex) to client registration.
- [x] Modify Query 2 (Arrests per Area):
    - [x] Remove the "gebieden" (areas) parameter from the client GUI.
    - [x] Update server-side query processing to reflect the removal.
- [x] Modify Query 3 (Arrests by Descent/Age/Sex):
    - [x] Server: Fetch distinct Descent Codes from the dataset.
    - [x] Server: Add the list of Descent Codes *and descriptions* to the metadata sent to the client.
    - [x] Client: Replace the existing Descent input with a multi-select dropdown populated from metadata.
    - [x] Client/Shared: Define the mapping for Descent Codes (added to constants.py).
    - [x] Server: Update query processing logic to handle multiple Descent Codes (already uses .isin()).
    - [x] Client: Modify the graph generation:
        - [x] X-axis: Descent Code (using the mapped full names).
        - [x] Y-axis: Count of arrests.
        - [x] Remove the Age distribution part of the graph.
        - [x] If both Male and Female checkboxes are selected, split each Descent bar into two segments (one for Male count, one for Female count).
        - [x] If only one sex is selected, show a single bar per Descent Code.
- [ ] Improve Query 4 (Geographic Hotspots):
    - [x] Add `folium` dependency to server environment.
    - [x] Server: Modify `process_query4` to generate an interactive HTML map using `folium` instead of a static plot.
    - [x] Server: Return the HTML map content in the query result.
    - [x] Client: Modify `on_query_result` to detect HTML map data.
    - [x] Client: Save received HTML to a temporary file.
    - [x] Client: Use `webbrowser` module to open the temporary HTML file.
    - [x] Client: Hide the internal plot area when opening the external map. 